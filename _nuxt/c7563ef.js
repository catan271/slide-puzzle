(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1236:function(t,e,n){"use strict";n.r(e);n(87),n(227),n(669),n(56),n(123);var l=n(9),r=n(43),c=n(1235),o=n(369),f=n(370),h=(n(121),n(1232),n(1234),n(1231));var v,m=function t(e,n,l){var r=0;if(n<l){var c=Math.floor((n+l)/2);r+=t(e,n,c),r+=t(e,c+1,l),r+=function(t,e,n,l){for(var r=[],c=e;c<n+1;c++)r.push(t[c]);for(var o=[],f=n+1;f<l+1;f++)o.push(t[f]);for(var i=0,h=0,v=e,m=0;i<r.length&&h<o.length;)r[i]<=o[h]?t[v++]=r[i++]:(t[v++]=o[h++],m+=n+1-(e+i));for(;i<r.length;)t[v++]=r[i++];for(;h<o.length;)t[v++]=o[h++];return m}(e,n,c,l)}return r},d=function(t){return m(Object(h.cloneDeep)(t),0,t.length-1)},k=function(){function t(e){Object(o.a)(this,t),this.map=[],this.level=0;var n=Object(h.shuffle)(Object(c.a)(Array(e*e-1)).map((function(t,i){return i+1})));if(d(n)%2!=0){var l=[n[1],n[0]];n[0]=l[0],n[1]=l[1]}n.push(0);for(var i=0;i<e;i++)this.map.push(n.slice(e*i,e*i+e));this.level=e}return Object(f.a)(t,[{key:"getMap",value:function(){return Object(h.cloneDeep)(this.map)}},{key:"findEmptyCell",value:function(t,e){for(var i=0;i<this.map.length;i++){if(0===this.map[t][i])return[t,i];if(0===this.map[i][e])return[i,e]}return[-1,-1]}},{key:"click",value:function(t,e){var n=this.findEmptyCell(t,e),l=Object(r.a)(n,2),c=l[0],o=l[1];if(-1!==c){for(var f=t!==c?(t-c)/Math.abs(t-c):0,h=e!==o?(e-o)/Math.abs(e-o):0;c!==t||o!==e;)this.map[c][o]=this.map[c+f][o+h],c+=f,o+=h;this.map[t][e]=0}return this.map}},{key:"checkWinning",value:function(){for(var t=this.map.flat(),i=1;i<t.length;i++)if(t[i-1]!==i)return!1;return!0}}]),t}(),w=l.default.extend({name:"PuzzleLevelPage",data:function(){var t=Number(this.$route.params.level);return{map:(v=new k(t)).map,level:t,win:!1}},methods:{handleClick:function(t,e){v.click(t,e),this.map=v.getMap(),v.checkWinning()&&(this.win=!0)},handleBackHome:function(){this.$router.replace("/")},handleRestart:function(){this.win=!1,v=new k(this.level),this.map=v.getMap()}}}),x=n(119),component=Object(x.a)(w,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"puzzle min-h-screen flex flex-col items-center justify-center relative"},[e("div",{staticClass:"back absolute top-12 left-0"},[e("NuxtLink",{staticClass:"p-12 text-16",attrs:{to:"/"}},[t._v("Back")])],1),t._v(" "),e("div",{staticClass:"board h-[min(90vh,90vw)] w-[min(90vh,90vw)] flex flex-col space-y-4"},t._l(t.map,(function(n,l){return e("div",{key:l,staticClass:"flex-1 row flex space-x-4"},t._l(n,(function(n,r){return e("div",{key:r,staticClass:"flex-1 cell"},[n?e("a-button",{staticClass:"h-full w-full text-bold p-0",style:{fontSize:"min(".concat(24/t.level,"vh,").concat(24/t.level,"vw)")},attrs:{type:"primary"},on:{click:function(e){return t.handleClick(l,r)}}},[t._v(t._s(n))]):e("div",{staticClass:"h-full w-full",attrs:{type:"ghost"}})],1)})),0)})),0),t._v(" "),e("a-modal",{attrs:{visible:t.win,title:"Congratulations","ok-text":"New game","cancel-text":"Home"},on:{ok:t.handleRestart,cancel:t.handleBackHome}},[e("h1",{staticClass:"text-64 text-center text-[#068FFF]"},[t._v("You won!")])])],1)}),[],!1,null,null,null);e.default=component.exports}}]);